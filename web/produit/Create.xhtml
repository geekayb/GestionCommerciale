<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/template.xhtml">
        <h:outputStylesheet library="default" name="css/myStyle.css" />
        <ui:define name="body">

            #{produitController.selected=null}
            <div class="ui-grid ui-grid-responsive" style="background-image: url('/Gestion_commerciale/im.png');height: 100%">
                <div class="ui-grid ui-grid-responsive" style="background-color: white;width: 80%; margin-top: 2%;margin-left: 10%; border: 1px double gray; border-radius: 0px">

                    <div class="ui-grid-row">
                        <div class="ui-grid-col-12">
                            <h:form id="ProduitCreateForm">

                                <p:button id="returnButton" icon=" icon-left-dir" value="Retour" outcome="List.xhtml"
                                          style="margin-left: 80%;
                                          margin-bottom: 1%;
                                          height: 6%"            
                                          ></p:button>
                                <p:commandButton style="position: absolute ; top:5%; left: 13%" actionListener="#{fournisseurController.prepareCreate()}" icon="ui-icon-plus" value="Nouveau fournisseur" update=":growl"  oncomplete="PF('FournisseurCreateDialog').show()"/>

                                <p:fieldset legend="Infos produit" toggleable="true" style="width: 90%; margin: auto">

                                    <h:panelGroup id="display" style="height: 100%; width: 100%">
                                        <p:panelGrid columns="2" rendered="#{produitController.selected != null}" style="width: 100%;background-color: white" columnClasses="">
                                            <p:outputLabel value="Réference *" for="reference" />
                                            <p:inputText style="width: 30%" id="reference" value="#{produitController.selected.reference}" title="#{bundle.CreateProduitTitle_reference}" />

                                            <p:outputLabel value="Fournisseur *" for="fournisseur" />
                                            <p:selectOneMenu style="width: 30%" id="fournisseur" value="#{produitController.selected.fournisseur}" >
                                                <f:selectItem id="pays0" value="#{produitController.fournisseurNull}" itemLabel="   ----SELECT----" ></f:selectItem> 
                                                <f:selectItems value="#{fournisseurController.list}"
                                                               var="fournisseurItem"
                                                               itemValue="#{fournisseurItem}"/>
                                            </p:selectOneMenu>

                                            <p:outputLabel value="Libellé *" for="libelle" />
                                            <p:inputText style="width: 30%" id="libelle" value="#{produitController.selected.libelle}" title="#{bundle.CreateProduitTitle_libelle}" />
                                            <p:outputLabel value="Quantité en stock *" for="quantiteStock" />
                                            <p:inputText style="width: 30%" id="quantiteStock" value="#{produitController.selected.quantiteStock}" title="#{bundle.CreateProduitTitle_quantiteStock}" />
                                            <p:outputLabel value="#{bundle.CreateProduitLabel_description}" for="description" />
                                            <p:inputTextarea rows="6" cols="30" autoResize="false" style="width: 70%" id="description" value="#{produitController.selected.description}" title="#{bundle.CreateProduitTitle_description}" />

                                        </p:panelGrid>
                                        <p:panelGrid columns="6" style="width: 100%"> 
                                            <p:outputLabel value="Prix unitaire (DH)" for="prixUnitaireDirham" />
                                            <p:inputText style="width: 70%" id="prixUnitaireDirham" value="#{produitController.selected.prixDirham}" title="#{bundle.CreateProduitTitle_prixUnitaire}" />
                                            <p:outputLabel value="Prix unitaire ($)" for="prixUnitaireDollar" />
                                            <p:inputText style="width: 70%" id="prixUnitaireDollar" value="#{produitController.selected.prixDollar}" title="#{bundle.CreateProduitTitle_prixUnitaire}" />

                                            <p:outputLabel value="Prix unitaire (€)" for="prixUnitaireEuro" />
                                            <p:inputText style="width: 70%" id="prixUnitaireEuro" value="#{produitController.selected.prixEuro}" title="#{bundle.CreateProduitTitle_prixUnitaire}" />
                                        </p:panelGrid>

                                        <p:commandButton actionListener="#{produitController.create}" value="#{bundle.Save}" update=":growl"/>
                                        <p:commandButton actionListener="#{produitController.reinitialiser()}" value="#{bundle.ReinitaliserForm}"/>

                                    </h:panelGroup>
                                </p:fieldset>

                            </h:form>
                        </div>
                    </div>
                </div>
            </div>
            <ui:include src="/fournisseur/popupFournisseur.xhtml"/>

        </ui:define>

    </ui:composition>
</html>
